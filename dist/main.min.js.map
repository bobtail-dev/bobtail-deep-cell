{"version":3,"sources":["dist/main.js"],"names":["global","factory","define","amd","exports","require","mod","_","rx","lodashGet","lodashSet","lodashHasin","jsondiffpatch","bobtailJsonCell","this","_underscore","_bobtailRx","_lodash","_lodash3","_lodash5","_jsondiffpatch","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_defineProperty","key","defineProperty","_toArray","arr","Array","isArray","from","_deleteProperty","getPath","basePath","prop","_this","snap","path","recorder","stack","length","console","warn","join","onUnsafeMutation","pub","op","base","_base","mutating","old","diff","prefixDiff","onChange","_setProperty","val","_this2","patch","update","jsonCell","SrcJsonCell","DepJsonCell","DepMutationError","ObsJsonCell","UPDATE","patchHas","undefined","logReturn","x","info","_underscore2","newObj","hasOwnProperty","_interopRequireWildcard","_lodash2","_lodash4","_lodash6","_jsondiffpatch2","_slicedToArray","sliceIterator","i","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","push","err","_createClass","defineProperties","target","props","descriptor","protoProps","staticProps","cloneDiffValues","_recorder","diffArray","arguments","isString","split","_path","first","rest","slice","isObject","_t","under","_rx$ObsBase","_this3","getPrototypeOf","_mkEv","_updating","_data","Proxy","conf","ObsBase","f","_oldUpdating","_nowUpdating","newVal","_this4","data","_this5","_this6","deleteProperty","_this7","setProperty","oldSet","oldDelete","_this8","_len","_key","concat","mkDeleteProperty","set","mkSetProperty","get","isFunction","other","oldVal","sub","has","had","ownKeys","delta","chain","omit","values","some","Reflect","_Error","_ref2","_len2","args","_key2","_this9","apply","Error","captureStackTrace","_ObsJsonCell","init","_this10","c","bind","autoSub","onSet","_ref3","_ref4","n","_update","_makeReadOnly","_ObsJsonCell2","cell"],"mappings":"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"}