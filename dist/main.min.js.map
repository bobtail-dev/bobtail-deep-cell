{"version":3,"sources":["dist/main.js"],"names":["global","factory","define","amd","exports","require","mod","_","rx","lodashGet","lodashSet","lodashHasin","jsondiffpatch","bobtailJsonCell","this","_underscore","_bobtailRx","_lodash","_lodash3","_lodash5","_jsondiffpatch","_interopRequireDefault","obj","__esModule","default","_defineProperty","key","value","Object","defineProperty","enumerable","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","setPrototypeOf","__proto__","_toArray","arr","Array","isArray","from","update","jsonCell","SrcJsonCell","DepJsonCell","DepMutationError","ObsJsonCell","UPDATE","patchHas","undefined","logReturn","x","console","info","_underscore2","newObj","hasOwnProperty","_interopRequireWildcard","_lodash2","_lodash4","_lodash6","_jsondiffpatch2","_slicedToArray","sliceIterator","i","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","push","length","err","_get","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","_createClass","defineProperties","target","props","descriptor","protoProps","staticProps","cloneDiffValues","recorder","_recorder","patch","path","diffArray","arguments","isString","split","_path","first","rest","slice","isObject","_t","under","prefixDiff","basePath","diff","_rx$ObsBase","_base","_this","onChange","_mkEv","onUnsafeMutation","_oldUpdating","_updating","_data","Proxy","conf","ObsBase","newVal","_this2","snap","data","_this3","getPath","_this4","prop","deleteProperty","_this5","val","setProperty","_this6","stack","warn","join","pub","op","base","mutating","old","_this7","_this8","_len","_key","concat","mkDeleteProperty","set","mkSetProperty","isFunction","other","oldVal","sub","has","had","ownKeys","delta","chain","omit","values","some","Reflect","_Error","_ref2","_len2","args","_key2","_this9","apply","Error","captureStackTrace","_ObsJsonCell","f","init","_this10","c","bind","autoSub","onSet","_ref3","_ref4","n","_update","_ObsJsonCell2","cell"],"mappings":"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"}