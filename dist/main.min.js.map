{"version":3,"sources":["dist/main.js"],"names":["global","factory","define","amd","exports","require","mod","_","rx","lodashGet","lodashSet","lodashHasin","jsondiffpatch","bobtailJsonCell","this","_underscore","_bobtailRx","_lodash","_lodash3","_lodash5","_jsondiffpatch","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_defineProperty","key","defineProperty","_toArray","arr","Array","isArray","from","_deleteProperty","getPath","basePath","prop","_this","snap","path","recorder","stack","length","console","warn","join","onUnsafeMutation","pub","op","base","_base","mutating","old","diff","prefixDiff","onChange","_setProperty","val","_this2","patch","_getProperty","_underscore2","isFunction","subscribeProperty","isObject","Proxy","conf","update","jsonCell","SrcJsonCell","DepJsonCell","DepMutationError","ObsJsonCell","UPDATE","patchHas","undefined","logReturn","x","info","newObj","hasOwnProperty","_lodash2","_lodash4","_lodash6","_jsondiffpatch2","_slicedToArray","sliceIterator","i","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","push","err","_createClass","defineProperties","target","props","descriptor","protoProps","staticProps","cloneDiffValues","_recorder","diffArray","arguments","isString","split","_path","first","rest","slice","_t","under","_rx$ObsBase","_this3","getPrototypeOf","_mkEv","_updating","_data","ObsBase","f","_oldUpdating","_nowUpdating","newVal","_this4","data","_this5","_this6","deleteProperty","_this7","setProperty","_this8","getProperty","_this9","oldVal","sub","oldSet","oldDelete","_this10","_len","_key","concat","mkDeleteProperty","set","mkSetProperty","get","mkGetProperty","has","had","ownKeys","delta","chain","omit","values","some","Reflect","_Error","_ref2","_len2","args","_key2","_this11","apply","Error","captureStackTrace","_ObsJsonCell","init","_this12","c","bind","autoSub","onSet","_ref3","_ref4","n","_update","_makeReadOnly","_ObsJsonCell2","cell"],"mappings":"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"}