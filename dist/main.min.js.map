{"version":3,"sources":["dist/main.js"],"names":["global","factory","define","amd","exports","require","mod","_","rx","lodashGet","lodashSet","lodashHasin","lodashClonedeep","jsondiffpatch","bobtailJsonCell","this","_underscore","_bobtailRx","_lodash","_lodash3","_lodash5","_lodash7","_jsondiffpatch","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_defineProperty","key","defineProperty","_toArray","arr","Array","isArray","from","_deleteProperty","getPath","basePath","prop","_this","snap","path","recorder","stack","length","console","warn","join","onUnsafeMutation","pub","op","base","data","mutating","old","diff","prefixDiff","onChange","_setProperty","val","_this2","patch","_getProperty","_underscore2","isFunction","subscribeProperty","isObject","Proxy","conf","update","jsonCell","SrcJsonCell","DepJsonCell","DepMutationError","ObsJsonCell","UPDATE","patchHas","IS_PROXY_SYM","undefined","logReturn","x","info","newObj","hasOwnProperty","_interopRequireWildcard","_lodash2","_lodash4","_lodash6","_lodash8","_jsondiffpatch2","_slicedToArray","sliceIterator","i","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","push","err","_createClass","defineProperties","target","props","descriptor","protoProps","staticProps","cloneDiffValues","_recorder","diffArray","arguments","isString","split","_path","first","rest","slice","_t","under","_rx$ObsBase","_base","_this3","getPrototypeOf","_mkEv","ObsBase","f","_oldUpdating","_nowUpdating","newVal","_this4","_updating","_proxify","_this5","_this6","deleteProperty","_this7","setProperty","_this8","getProperty","_this9","oldVal","sub","oldSet","oldDelete","_this10","_len","_key","concat","mkDeleteProperty","set","mkSetProperty","get","mkGetProperty","has","had","ownKeys","delta","chain","omit","values","some","Reflect","_Error","_ref2","_len2","args","_key2","_this11","apply","Error","captureStackTrace","_ObsJsonCell","init","_this12","c","bind","autoSub","onSet","_ref3","_ref4","n","_update","_makeReadOnly","_ObsJsonCell2","cell"],"mappings":"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"}