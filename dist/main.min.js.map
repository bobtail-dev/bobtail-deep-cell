{"version":3,"sources":["dist/main.js"],"names":["global","factory","define","amd","exports","require","mod","_","rx","lodashGet","lodashSet","lodashHasin","lodashClonedeep","jsondiffpatch","bobtailJsonCell","this","_underscore","_bobtailRx","_lodash","_lodash3","_lodash5","_lodash7","_jsondiffpatch","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_defineProperty","key","defineProperty","_toArray","arr","Array","isArray","from","_deleteProperty","getPath","basePath","prop","_this","snap","path","recorder","stack","length","console","warn","join","onUnsafeMutation","pub","op","base","data","mutating","old","diff","prefixDiff","onChange","_setProperty","val","_this2","patch","_getProperty","_underscore2","isFunction","subscribeProperty","isObject","Proxy","conf","update","jsonCell","SrcJsonCell","DepJsonCell","DepMutationError","ObsJsonCell","UPDATE","patchHas","IS_PROXY_SYM","undefined","logReturn","x","info","newObj","hasOwnProperty","_lodash2","_lodash4","_lodash6","_lodash8","_jsondiffpatch2","_slicedToArray","sliceIterator","i","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","push","err","_createClass","defineProperties","target","props","descriptor","protoProps","staticProps","cloneDiffValues","_recorder","diffArray","arguments","isString","split","_path","first","rest","slice","_t","under","_rx$ObsBase","_base","_this3","getPrototypeOf","_mkEv","ObsBase","f","_oldUpdating","_nowUpdating","newVal","_this4","_updating","_proxify","_this5","_this6","deleteProperty","_this7","setProperty","_this8","getProperty","_this9","oldVal","sub","oldSet","oldDelete","_this10","_len","_key","concat","mkDeleteProperty","set","mkSetProperty","get","mkGetProperty","has","had","ownKeys","delta","chain","omit","values","some","Reflect","_this11","_Error","_ref2","_len2","args","_key2","_this12","apply","Error","captureStackTrace","_ObsJsonCell","init","_this13","c","bind","autoSub","onSet","_ref3","_ref4","n","_update","_makeReadOnly","_ObsJsonCell2","cell"],"mappings":"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"}