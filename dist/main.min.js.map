{"version":3,"sources":["dist/main.js"],"names":["global","factory","define","amd","exports","require","mod","_","rx","lodashGet","lodashSet","lodashHasin","jsondiffpatch","bobtailJsonCell","this","_underscore","_bobtailRx","_lodash","_lodash3","_lodash5","_jsondiffpatch","_interopRequireDefault","obj","__esModule","default","_defineProperty","key","value","Object","defineProperty","enumerable","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","setPrototypeOf","__proto__","_toArray","arr","Array","isArray","from","update","jsonCell","SrcJsonCell","DepJsonCell","DepMutationError","ObsJsonCell","UPDATE","patchHas","undefined","logReturn","x","console","info","_underscore2","newObj","hasOwnProperty","_interopRequireWildcard","_lodash2","_lodash4","_lodash6","_jsondiffpatch2","_slicedToArray","sliceIterator","i","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","push","length","err","_get","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","_createClass","defineProperties","target","props","descriptor","protoProps","staticProps","cloneDiffValues","recorder","_recorder","patch","path","diffArray","arguments","isString","split","_path","first","rest","slice","isObject","_t","under","prefixDiff","basePath","diff","_rx$ObsBase","_base","_this","onChange","_mkEv","onUnsafeMutation","_updating","_data","Proxy","conf","ObsBase","f","_oldUpdating","_nowUpdating","snap","newVal","_this2","data","_this3","getPath","_this4","prop","deleteProperty","_this5","val","setProperty","_this6","stack","warn","join","pub","op","base","mutating","old","_this7","_this8","_len","_key","concat","mkDeleteProperty","set","mkSetProperty","isFunction","other","oldVal","sub","has","had","ownKeys","delta","chain","omit","values","some","Reflect","_Error","_ref2","_len2","args","_key2","_this9","apply","Error","captureStackTrace","_ObsJsonCell","init","_this10","c","bind","autoSub","onSet","_ref3","_ref4","n","_update","_ObsJsonCell2","cell"],"mappings":"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"}